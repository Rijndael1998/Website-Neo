import LazyLocalImage from "@/components/lazy/_lazyLocalImage";
import { Accordion, AccordionDetails, AccordionSummary, Container } from "@mui/material";
import ExpandMoreIcon from '@mui/icons-material/ExpandMore';
import DarkModeFix from '@/components/muiWrappers/darkModeFix/_darkModeFix';
import Lazy from "@/components/lazy/_lazy";
import { generateCustomMetadata } from "@/Metadata";

import logo from "./opengraph-image.png";
import s1 from "./images/s1.png";
import s2 from "./images/s2.png";
import s3 from "./images/s3.png";
import s4 from "./images/s4.png";
import s5 from "./images/s5.png";

export const title = "Recover your Creality Ender-3 V3 SE";

export const metadata = {
    title,
    description: "There are a couple of things that Creality support doesn't say about resetting the printer. Here's my quick guide to recovering your Ender-3 V3 SE.",
};

# {metadata.title}

<LazyLocalImage 
    aspectRatio={1}
    src={logo}
    quality={100} 
/>
 
After failing to install [Klipper](https://artamis.me/projects/klipper_guide/) on my borrowed Ender-3 V3 SE, I found it very hard to recover the printer — and I swear I aged a few years in the process. The stakes were even higher since this was a borrowed 3D printer worth about $200.

There are a couple of things Creality Support doesn't mention about resetting the printer. Here's my quick guide to recovering your Ender-3 V3 SE.

## Properly Format Your SD Card
In my case, I had a 128-GB SD card that I formatted to use its full capacity, which didn't work. I suspect this issue will become more common as higher-capacity SD cards proliferate. One of the things support doesn't mention is that the SD card needs to be **formatted** so the first partition is under 8 GB, and it needs to be a "real" SD card. I assume this is a failsafe to prevent [fake SD cards that falsely report very high capacities](https://www.makeuseof.com/tag/how-to-spot-fake-microsd-card/) from flashing incorrectly, but don't quote me on that. Speculation aside, what's important is that you only need the first partition to be under 8 GB, regardless of the SD card's actual capacity.

Here's how my card is currently formatted:
```
Disk /dev/sdc: 119.38 GiB, 128177930240 bytes, 250347520 sectors
Disk model: Multi-Card      
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x600d155b

Device     Boot Start     End Sectors  Size Id Type
/dev/sdc1        2048 8194047 8192000  3.9G  b W95 FAT32
```

From this `fdisk` output, you can see that my 128GB SD card has a single 4GB partition. I also used an MBR/DOS partition table rather than GPT for compatibility, though I'm not sure that matters.

<Container disableGutters sx={{margin: "1ex 0"}}>
    <Accordion >
        <AccordionSummary
            expandIcon={<ExpandMoreIcon />}
        >
            Rough steps
        </AccordionSummary>
        <AccordionDetails>
            <Container>
                Reformat your SD card to MBR/DOS
                <LazyLocalImage src={s1} />

                Create a partition smaller than 8GB.
                <LazyLocalImage src={s3} />

                Select the FAT32 option.
                <LazyLocalImage src={s4} />

                Now you've successfully formatted your SD card to spec.

                <LazyLocalImage src={s5} />
            </Container>
        </AccordionDetails>
    </Accordion>
</Container>

## Make sure you update the screen, too.
I spent far too long updating only the main firmware. After stumbling for ages, I learned that the screen should also be updated every time you change the main firmware — even if the firmware version hasn't changed. My advice: update the main firmware, then update the screen firmware. Once you put the firmware onto the SD card correctly, you'll see a white screen with red text showing the flashing progress.

### Firmware link

You can get all the firmware at the official link: https://www.creality.com/pages/download-ender-3-v3-se

## Summary

After this experience, I'm never again going to lobotomize my borrowed 3D printer—at least not until I have one of my own.
